<!DOCTYPE html>
<html lang="zh" class="no-js demo-1">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<script src="js/jquery.min.js"></script>
		<script src="js/Helper.js"></script>
		<script src="js/keyboard.js"></script>
		<script src="js/const.js"></script>
		<script src="js/level.js"></script>
		<script src="js/crackAnimation.js"></script>
		<script src="js/prop.js"></script>
		<script src="js/bullet.js"></script>
		<script src="js/tank.js"></script>
		<script src="js/num.js"></script>
		<script src="js/menu.js"></script>
		<script src="js/map.js"></script>
		<script src="js/Collision.js"></script>
		<script src="js/stage.js"></script>
		<script src="js/main.js"></script>
		<link rel="stylesheet" type="text/css" href="css/default.css" />
		<style type="text/css">
			#canvasDiv canvas{
				position:absolute;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<head><h3>操作说明：玩家1：wasd上左下右，space射击；玩家2：方向键，enter射击。n下一关，p上一关。</h3></head>
			<div class="main clearfix">
				<div id="canvasDiv" >
					<canvas id="wallCanvas" ></canvas> 
					<canvas id="tankCanvas" ></canvas>
					<canvas id="grassCanvas" ></canvas>
					<canvas id="overCanvas" ></canvas> 
					<canvas id="stageCanvas" ></canvas>
				</div>
			</div>
			
		</div><!-- /container -->
	<hr>
		<button onmouseup="offKey('enter')" onmousedown="sendKey('enter')">确定按钮</button>
		<button onmouseup="offKey('before')" onmousedown="sendKey('before')">上一关</button>
		<button onmouseup="offKey('after')" onmousedown="sendKey('after')">下一关</button>
		<button onmouseup="offKey('w')" onmousedown="sendKey('w')">上</button>
		<button onmouseup="offKey('s')"  onmousedown="sendKey('s')">下</button>
		<button onmouseup="offKey('a')"  onmousedown="sendKey('a')">左</button>
		<button onmouseup="offKey('d')"  onmousedown="sendKey('d')">右</button>
		<button onmouseup="offKey('space')"  onmousedown="sendKey('space')">发射</button>
<!--		<input  id="test" type="text">-->
		<input hidden="hidden" id="test" type="text">

<!--		<script>-->
<!--			(function () {-->
<!--				alert("修改&#45;&#45;101版本")-->
<!--			})();-->
<!--		</script>-->
    <script>
		function sendKey(index) {
 			var e = jQuery.Event("keydown"); //模拟一个键盘事件
			// 32空格、w87、s83、a65、d68、enter13,n78,p80
			e.keyCode = 38;
			e.which = 38;  //增加设置which
 			switch (index) {
				case "enter":
					e.keyCode = 13;
					e.which = 13;  //增加设置which
					break;
				case "after":
					e.keyCode = 80;
					e.which = 80;  //增加设置which
					break;
				case "before":
					e.keyCode = 78;
					e.which = 78;  //增加设置which
					break;
				case "w":
					e.keyCode = 87;
					e.which = 87;  //增加设置which
					break;
				case "s":
					e.keyCode = 83;
					e.which = 83;  //增加设置which
					break;
				case "a":
					e.keyCode = 65;
					e.which = 65;  //增加设置which
					break;
				case "d":
					e.keyCode = 68;
					e.which = 68;  //增加设置which
					break;
				case "space":
					e.keyCode = 32;
					e.which = 32;  //增加设置which
					break;

			}

 			 ssxdown(e) ;

 			// $('#test').trigger(e); //模拟按键

		}

		function offKey(index) {
			var e = jQuery.Event("keyup"); //模拟一个键盘事件
			// 32空格、w87、s83、a65、d68、enter13
			e.keyCode = 38;
			e.which = 38;  //增加设置which

			switch (index) {
				case "enter":
					e.keyCode = 13;
					e.which = 13;  //增加设置which
					break;
				case "after":
					e.keyCode = 80;
					e.which = 80;  //增加设置which
					break;
				case "before":
					e.keyCode = 78;
					e.which = 78;  //增加设置which
					break;

				case "w":
					e.keyCode = 87;
					e.which = 87;  //增加设置which
					break;
				case "s":
					e.keyCode = 83;
					e.which = 83;  //增加设置which
					break;
				case "a":
					e.keyCode = 65;
					e.which = 65;  //增加设置which
					break;
				case "d":
					e.keyCode = 68;
					e.which = 68;  //增加设置which
					break;
				case "space":
					e.keyCode = 32;
					e.which = 32;  //增加设置which
					break;

			}

			window.setTimeout(function () {
						ssxup(e);


					},
					300);



			// $('#test').trigger(e); //模拟按键
		}
	</script>
	</body>
</html>